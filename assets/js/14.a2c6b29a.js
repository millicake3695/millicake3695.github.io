(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{538:function(s,t,a){"use strict";a.r(t);var e=a(2),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("简单介绍了 mysql 的基本操作及一些基本概念。")])]),s._v(" "),t("h3",{attrs:{id:"gui-tools"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gui-tools"}},[s._v("#")]),s._v(" GUI Tools")]),s._v(" "),t("p",[s._v("Mac OS X: "),t("a",{attrs:{href:"http://www.sequelpro.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("sequelpro"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("Windows: "),t("a",{attrs:{href:"https://www.heidisql.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("heidi"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"数据库分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库分类"}},[s._v("#")]),s._v(" 数据库分类")]),s._v(" "),t("ol",[t("li",[s._v("关系型数据库（Sql）- 通过表和表之间，行与列之间的关系进行数据存储")])]),s._v(" "),t("p",[s._v("如 Mysql, Oracle, sqlServer")]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("非关系型数据库（NoSql）- 对象存储，通过对象自身的属性来决定")])]),s._v(" "),t("p",[s._v("如 Redis, MongoDB")]),s._v(" "),t("h3",{attrs:{id:"基础命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础命令"}},[s._v("#")]),s._v(" 基础命令")]),s._v(" "),t("ol",[t("li",[t("p",[t("code",[s._v("mysql -utafadmin -ptafadmin2017 -h 10.0.0.1;")]),s._v(" 登录mysql")]),s._v(" "),t("p",[s._v("(1) -u, -p, -h 后紧跟用户名、密码和数据库主机地址，本机可省略 -h 参数。")]),s._v(" "),t("p",[s._v("(2) 命令以分号结尾。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("show databases;")]),s._v(" 显示所有的数据库")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("create database db_name;")]),s._v(" 创建数据库")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("drop database db_name;")]),s._v(" 删除数据库")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("use db_name;")]),s._v(" 进入目标数据库")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("show tables;")]),s._v(" 显示当前数据库全部表")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("drop table table_name if exists;")]),s._v(" 删除表")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("desc table_name;")]),s._v(" 显示表结构")])]),s._v(" "),t("li",[t("p",[s._v("复制粘贴已转储好的全部表结构，执行即可完成导入新表；")])]),s._v(" "),t("li",[t("p",[s._v("select, update, delete, insert 语句执行操作表数据。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("exit;")]),s._v(" 退出")])])]),s._v(" "),t("h3",{attrs:{id:"索引的分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引的分类"}},[s._v("#")]),s._v(" 索引的分类")]),s._v(" "),t("p",[s._v("MySQL 把同一个数据表里的索引总数限制为16个。")]),s._v(" "),t("p",[s._v("用途：提高查询效率。")]),s._v(" "),t("p",[s._v("语法：create index 索引名 on 表(字段)")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" idx_table_xxx "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" table_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("原则：")]),s._v(" "),t("ul",[t("li",[s._v("索引不是越多越好（占据硬盘空间）")]),s._v(" "),t("li",[s._v("不要对数据进行变动")]),s._v(" "),t("li",[s._v("小数据的表不需要加索引")]),s._v(" "),t("li",[s._v("索引一般加在常用查询、排序的字段")])]),s._v(" "),t("ol",[t("li",[s._v("主键索引")])]),s._v(" "),t("p",[s._v("主键不可重复。定义时使用的关键字是 "),t("code",[s._v("PRIMARY")]),s._v("。")]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("唯一索引")])]),s._v(" "),t("p",[s._v("定义时使用的关键字是 "),t("code",[s._v("UNIQUE")]),s._v("。")]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("普通索引")])]),s._v(" "),t("p",[s._v("由关键字 "),t("code",[s._v("KEY")]),s._v(" 或 "),t("code",[s._v("INDEX")]),s._v(" 定义的索引。")]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[s._v("外键索引")])]),s._v(" "),t("p",[s._v("定义时使用的关键字是 "),t("code",[s._v("foreign key(col_name)")]),s._v("。建立外键的前提是本表的列必须与外键类型相同，同时外键必须是外表主键。")]),s._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[s._v("复合索引")])]),s._v(" "),t("p",[t("code",[s._v("index(colA, colB)")])]),s._v(" "),t("ol",{attrs:{start:"6"}},[t("li",[s._v("全文索引")])]),s._v(" "),t("p",[s._v("关键字 "),t("code",[s._v("FULLTEXT")]),s._v("。InnoDB 数据表不支持全文索引。")]),s._v(" "),t("h3",{attrs:{id:"标准-sql-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标准-sql-语句"}},[s._v("#")]),s._v(" 标准 sql 语句")]),s._v(" "),t("ol",[t("li",[s._v("查询语句")])]),s._v(" "),t("p",[t("code",[s._v("SELECT param FROM table WHERE condition ORDER BY param1;")])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("新增语句")])]),s._v(" "),t("p",[t("code",[s._v("INSERT INTO table (param1，param) VALUES (value1，value2);")])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("更新语句")])]),s._v(" "),t("p",[t("code",[s._v("UPDATE table SET param=new_value WHERE condition;")])]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[s._v("删除语句")])]),s._v(" "),t("p",[t("code",[s._v("DELETE FROM table WHERE condition")])]),s._v(" "),t("h3",{attrs:{id:"一些关键字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一些关键字"}},[s._v("#")]),s._v(" 一些关键字")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("like")])])]),s._v(" "),t("p",[s._v("模糊查询。")]),s._v(" "),t("p",[t("code",[s._v("like")]),s._v(" 结合 "),t("code",[s._v("%")]),s._v(" 代表0到任意个字符，结合 "),t("code",[s._v("_")]),s._v(" 代表一个字符。")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" table_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" t "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%china'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" table_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" t "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%china%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" table_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" t "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'_china'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[t("code",[s._v("in")])])]),s._v(" "),t("p",[s._v("查询具体的一个或者多个值。")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" table_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" t "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[t("code",[s._v("inner join")]),s._v(", "),t("code",[s._v("left join")]),s._v(", "),t("code",[s._v("right join")])])]),s._v(" "),t("p",[s._v("联表查询。")]),s._v(" "),t("p",[t("code",[s._v("left join")]),s._v(" (左联接) 返回包括左表中的所有记录和右表中联结字段相等的记录，返回记录条数与左表相同，不足的记录属性用NULL填充"),t("br"),s._v(" "),t("code",[s._v("right join")]),s._v(" (右联接) 返回包括右表中的所有记录和左表中联结字段相等的记录，返回记录条数与右表相同，不足的记录属性用NULL填充"),t("br"),s._v(" "),t("code",[s._v("inner join")]),s._v(" (等值连接) 只返回两个表中联结字段相等的行，不足的记录属性直接舍弃")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" table_a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" table_b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("aid "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" condition"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[t("code",[s._v("order by")])])]),s._v(" "),t("p",[s._v("排序。"),t("code",[s._v("desc")]),s._v(" 降序， "),t("code",[s._v("asc")]),s._v(" 升序，默认 "),t("code",[s._v("desc")]),s._v("。")]),s._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[t("code",[s._v("limit offset,size")])])]),s._v(" "),t("p",[s._v("分页。")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" table_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" condition "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"6"}},[t("li",[t("code",[s._v("group by")])])]),s._v(" "),t("p",[s._v("分组。")]),s._v(" "),t("h3",{attrs:{id:"防止-sql-注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#防止-sql-注入"}},[s._v("#")]),s._v(" 防止 SQL 注入")]),s._v(" "),t("p",[s._v("最佳方案：预编译"),t("code",[s._v("sql")]),s._v("语句。本质是把传递进来的参数当做字符，转义字符被直接转义。")]),s._v(" "),t("p",[s._v("其它：")]),s._v(" "),t("ul",[t("li",[s._v("限制数据库权限")]),s._v(" "),t("li",[s._v("规定数据类型、长度")]),s._v(" "),t("li",[s._v("过滤参数中的一些数据库关键词")])])])}),[],!1,null,null,null);t.default=r.exports}}]);