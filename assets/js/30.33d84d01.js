(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{361:function(e,v,_){"use strict";_.r(v);var t=_(12),o=Object(t.a)({},(function(){var e=this,v=e._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h3",{attrs:{id:"背景"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[e._v("#")]),e._v(" 背景")]),e._v(" "),v("p",[e._v("使用 "),v("code",[e._v("VuePress")]),e._v(" + "),v("code",[e._v("Github Actions")]),e._v(" 搭建一个个人博客，记录日常琐事或开发技术积累。")]),e._v(" "),v("h3",{attrs:{id:"参考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),v("ul",[v("li",[v("p",[v("a",{attrs:{href:"https://www.vuepress.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("VuePress 中文文档"),v("OutboundLink")],1)])]),e._v(" "),v("li",[v("p",[v("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub Actions 入门教程"),v("OutboundLink")],1)])])]),e._v(" "),v("h3",{attrs:{id:"基本配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#基本配置"}},[e._v("#")]),e._v(" 基本配置")]),e._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),v("p",[v("code",[e._v("node")]),e._v(" 版本需要12以上，版本不符合要求会导致 "),v("code",[e._v("vuepress")]),e._v(" 模块安装失败。另外，windows平台升级 "),v("code",[e._v("node")]),e._v(" 只能通过官网下载目标版本重新安装的方式。")])]),e._v(" "),v("p",[e._v("构建的核心基本就是 "),v("code",[e._v("docs/.vuepress/")]),e._v(" 目录下的 "),v("code",[e._v("config.js")]),e._v("，是配置文件的入口文件。")]),e._v(" "),v("p",[e._v("以下列出几点在配置过程中容易踩坑的点～")]),e._v(" "),v("ol",[v("li",[v("code",[e._v("base")])])]),e._v(" "),v("p",[e._v("是部署站点的基础路径。")]),e._v(" "),v("p",[e._v("如果要将网站部署到 "),v("code",[e._v("https://millicake3695.github.io")]),e._v("，那么 "),v("code",[e._v("base")]),e._v(" 应该被设置成 "),v("code",[e._v('"/"')]),e._v("（或者不设置，此为默认值），它的值应当总是以斜杠开始，并以斜杠结束。")]),e._v(" "),v("p",[e._v("如果部署到 "),v("code",[e._v("https://millicake3695.github.io/home/")]),e._v("，那么 "),v("code",[e._v("base")]),e._v(" 就应该被设置成 "),v("code",[e._v("/home/")]),e._v("。否则会导致 "),v("code",[e._v("css")]),e._v("、图片等静态资源无法被正确加载。")]),e._v(" "),v("p",[v("code",[e._v("base")]),e._v(" 将会作为前缀自动地插入到所有以 "),v("code",[e._v("/")]),e._v(" 开始的其他选项的链接中，因此只需要指定一次。")]),e._v(" "),v("ol",{attrs:{start:"2"}},[v("li",[v("code",[e._v("themeConfig.sidebar")])])]),e._v(" "),v("p",[v("code",[e._v("themeConfig")]),e._v(" 可以为当前的主题提供一些配置，这些选项依赖于你正在使用的主题。")]),e._v(" "),v("p",[e._v("因本 blog 暂时采用的是默认主题，因此此处讨论的是关于修改默认的主题配置。")]),e._v(" "),v("p",[e._v("按照 "),v("code",[e._v("VuePress")]),e._v(" 官网文档修改侧边栏分组的配置，关键在于 "),v("code",[e._v("children")]),e._v(" 下的值使用的是 "),v("code",[e._v("绝对路径")]),e._v("，而不是 "),v("code",[e._v("相对路径")]),e._v("。如 "),v("code",[e._v('"/"')]),e._v("指向根目录下的 "),v("code",[e._v("README.md")]),e._v("，而"),v("code",[e._v('"/foo/bar"')]),e._v("则是指向 "),v("code",[e._v("foo")]),e._v(" 目录下的 "),v("code",[e._v("bar.md")]),e._v("。")]),e._v(" "),v("ol",{attrs:{start:"3"}},[v("li",[e._v("侧边栏的标题自动抓取的是对应 "),v("code",[e._v(".md")]),e._v(" 文件的 "),v("code",[e._v("h2")]),e._v("、"),v("code",[e._v("h3")]),e._v(" 标题，如果没有，默认显示 "),v("code",[e._v("文件路径.html")]),e._v("。")])]),e._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),v("p",[v("code",[e._v("github Pages")]),e._v(" 可以被认为是用户编写的、托管在 github 上的静态网页。"),v("code",[e._v("github Actions")]),e._v(" 可以理解为持续集成过程中的某个操作，比如抓取代码、运行测试、登录远程服务器，发布到第三方服务等等。要使用 "),v("code",[e._v("github Actions")]),e._v(" 配套的自动构建发布功能，仓库需要包含 "),v("code",[e._v("GitHub Actions")]),e._v(" 的配置文件（workflow 文件），存放在仓库的 "),v("code",[e._v(".github/workflows")]),e._v(" 目录。workflow 文件采用 YAML 格式，文件名可以任意取，但是后缀名统一为 "),v("code",[e._v(".yml")]),e._v("，比如 "),v("code",[e._v("foo.yml")]),e._v("。一个库可以有多个 workflow 文件。GitHub 只要发现 .github/workflows 目录里面有 .yml 文件，就会自动运行该文件。")])]),e._v(" "),v("ol",{attrs:{start:"4"}},[v("li",[v("p",[e._v("关于 "),v("code",[e._v("JamesIves/github-pages-deploy-action@releases/v3")]),e._v(" 这个 action 中 FOLDER 的取值，为绝对路径。由于 vuepress 默认的打包文件路径为 "),v("code",[e._v(".vuepress/dist")]),e._v("，因此这里应该对应修改为 "),v("code",[e._v("docs/.vuepress/dist")]),e._v("。如果你在 vuepress 的配置文件中修改了默认打包路径（配置项为 "),v("code",[e._v("dest")]),e._v("，默认值为 "),v("code",[e._v(".vuepress/dist")]),e._v("），那么这里也需要对应修改。")])]),e._v(" "),v("li",[v("p",[e._v("评论功能使用的是"),v("code",[e._v("github")]),e._v("提供的"),v("code",[e._v("OAuth API")]),e._v("搭配评论插件"),v("code",[e._v("Vssue")]),e._v("，将评论存储在"),v("code",[e._v("github Issue")]),e._v("系统中，并在当前页面展示。"),v("br"),e._v("\n依赖包："),v("br"),e._v(" "),v("code",[e._v("@vssue/vuepress-plugin-vssue")]),v("br"),e._v(" "),v("code",[e._v("@vssue/api-github-v3")])]),e._v(" "),v("p",[v("a",{attrs:{href:"https://www.mianshigee.com/tutorial/vssue/77fe8c4f2948fd54.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vssue 使用指南"),v("OutboundLink")],1)])])]),e._v(" "),v("h3",{attrs:{id:"其它"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[e._v("#")]),e._v(" 其它")]),e._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://github.com/markdown-it/markdown-it-emoji/blob/master/lib/data/full.json",target:"_blank",rel:"noopener noreferrer"}},[e._v("Emoji"),v("OutboundLink")],1)])]),e._v(" "),v("Vssue")],1)}),[],!1,null,null,null);v.default=o.exports}}]);