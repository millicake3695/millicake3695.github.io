(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{289:function(v,e,_){"use strict";_.r(e);var t=_(13),o=Object(t.a)({},(function(){var v=this,e=v._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h3",{attrs:{id:"背景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[v._v("#")]),v._v(" 背景")]),v._v(" "),e("p",[v._v("使用 "),e("code",[v._v("VuePress")]),v._v(" + "),e("code",[v._v("Github Actions")]),v._v(" 搭建一个个人博客，记录日常琐事或开发技术积累。")]),v._v(" "),e("h3",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[v._v("#")]),v._v(" 参考")]),v._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://www.vuepress.cn/",target:"_blank",rel:"noopener noreferrer"}},[v._v("VuePress 中文文档"),e("OutboundLink")],1)])]),v._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[v._v("GitHub Actions 入门教程"),e("OutboundLink")],1)])])]),v._v(" "),e("h3",{attrs:{id:"基本配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本配置"}},[v._v("#")]),v._v(" 基本配置")]),v._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[v._v("注意")]),v._v(" "),e("p",[e("code",[v._v("node")]),v._v(" 版本需要12以上，版本不符合要求会导致 "),e("code",[v._v("vuepress")]),v._v(" 模块安装失败。另外，windows平台升级 "),e("code",[v._v("node")]),v._v(" 只能通过官网下载目标版本重新安装的方式。")])]),v._v(" "),e("p",[v._v("构建的核心基本就是 "),e("code",[v._v("docs/.vuepress/")]),v._v(" 目录下的 "),e("code",[v._v("config.js")]),v._v("，是配置文件的入口文件。")]),v._v(" "),e("p",[v._v("以下列出几点在配置过程中容易踩坑的点～")]),v._v(" "),e("ol",[e("li",[e("code",[v._v("base")])])]),v._v(" "),e("p",[v._v("是部署站点的基础路径。")]),v._v(" "),e("p",[v._v("如果要将网站部署到 "),e("code",[v._v("https://millicake3695.github.io")]),v._v("，那么 "),e("code",[v._v("base")]),v._v(" 应该被设置成 "),e("code",[v._v('"/"')]),v._v("（或者不设置，此为默认值），它的值应当总是以斜杠开始，并以斜杠结束。")]),v._v(" "),e("p",[v._v("如果部署到 "),e("code",[v._v("https://millicake3695.github.io/home/")]),v._v("，那么 "),e("code",[v._v("base")]),v._v(" 就应该被设置成 "),e("code",[v._v("/home/")]),v._v("。否则会导致 "),e("code",[v._v("css")]),v._v("、图片等静态资源无法被正确加载。")]),v._v(" "),e("p",[e("code",[v._v("base")]),v._v(" 将会作为前缀自动地插入到所有以 "),e("code",[v._v("/")]),v._v(" 开始的其他选项的链接中，因此只需要指定一次。")]),v._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[v._v("themeConfig.sidebar")])])]),v._v(" "),e("p",[e("code",[v._v("themeConfig")]),v._v(" 可以为当前的主题提供一些配置，这些选项依赖于你正在使用的主题。")]),v._v(" "),e("p",[v._v("因本 blog 暂时采用的是默认主题，因此此处讨论的是关于修改默认的主题配置。")]),v._v(" "),e("p",[v._v("按照 "),e("code",[v._v("VuePress")]),v._v(" 官网文档修改侧边栏分组的配置，关键在于 "),e("code",[v._v("children")]),v._v(" 下的值使用的是 "),e("code",[v._v("绝对路径")]),v._v("，而不是 "),e("code",[v._v("相对路径")]),v._v("。如 "),e("code",[v._v('"/"')]),v._v("指向根目录下的 "),e("code",[v._v("README.md")]),v._v("，而"),e("code",[v._v('"/foo/bar"')]),v._v("则是指向 "),e("code",[v._v("foo")]),v._v(" 目录下的 "),e("code",[v._v("bar.md")]),v._v("。")]),v._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[v._v("侧边栏的标题自动抓取的是对应 "),e("code",[v._v(".md")]),v._v(" 文件的 "),e("code",[v._v("h2")]),v._v("、"),e("code",[v._v("h3")]),v._v(" 标题，如果没有，默认显示 "),e("code",[v._v("文件路径.html")]),v._v("。")])]),v._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[v._v("TIP")]),v._v(" "),e("p",[e("code",[v._v("github Pages")]),v._v(" 可以被认为是用户编写的、托管在 github 上的静态网页。"),e("code",[v._v("github Actions")]),v._v(" 可以理解为持续集成过程中的某个操作，比如抓取代码、运行测试、登录远程服务器，发布到第三方服务等等。要使用 "),e("code",[v._v("github Actions")]),v._v(" 配套的自动构建发布功能，仓库需要包含 "),e("code",[v._v("GitHub Actions")]),v._v(" 的配置文件（workflow 文件），存放在仓库的 "),e("code",[v._v(".github/workflows")]),v._v(" 目录。workflow 文件采用 YAML 格式，文件名可以任意取，但是后缀名统一为 "),e("code",[v._v(".yml")]),v._v("，比如 "),e("code",[v._v("foo.yml")]),v._v("。一个库可以有多个 workflow 文件。GitHub 只要发现 .github/workflows 目录里面有 .yml 文件，就会自动运行该文件。")])]),v._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[v._v("关于 "),e("code",[v._v("JamesIves/github-pages-deploy-action@releases/v3")]),v._v(" 这个 action 中 FOLDER 的取值，为绝对路径。由于 vuepress 默认的打包文件路径为 "),e("code",[v._v(".vuepress/dist")]),v._v("，因此这里应该对应修改为 "),e("code",[v._v("docs/.vuepress/dist")]),v._v("。如果你在 vuepress 的配置文件中修改了默认打包路径（配置项为 "),e("code",[v._v("dest")]),v._v("，默认值为 "),e("code",[v._v(".vuepress/dist")]),v._v("），那么这里也需要对应修改。")])]),v._v(" "),e("h3",{attrs:{id:"其它"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[v._v("#")]),v._v(" 其它")]),v._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/markdown-it/markdown-it-emoji/blob/master/lib/data/full.json",target:"_blank",rel:"noopener noreferrer"}},[v._v("Emoji"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=o.exports}}]);